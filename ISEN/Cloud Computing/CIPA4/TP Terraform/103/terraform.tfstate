{"version":4,"terraform_version":"1.11.3","serial":10,"lineage":"8a36cce1-b773-066c-ffec-b231f04cc7f7","outputs":{"demo-flask-url":{"value":"http://192.168.1.246:8080","type":"string"},"nginx-url":{"value":"https://51.91.90.74.xip.opensteak.fr","type":"string"}},"resources":[{"mode":"data","type":"openstack_networking_network_v2","name":"public","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"admin_state_up":"true","all_tags":[],"availability_zone_hints":[],"description":"","dns_domain":"","external":true,"id":"09d8416d-7442-4f96-8f87-4d47314feaf6","matching_subnet_cidr":null,"mtu":1500,"name":"public","network_id":null,"region":"","shared":"true","status":null,"subnets":["c13b40c7-46bf-4fde-9922-aacff44b1c81","d078cb7a-c710-494b-a8df-aec2af717701"],"tags":null,"tenant_id":"786fe7788212420bb15b304960771ed4","transparent_vlan":false},"sensitive_attributes":[]}]},{"mode":"managed","type":"openstack_compute_floatingip_associate_v2","name":"frontend_fip_assoc","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"fixed_ip":"","floating_ip":"51.91.90.74","id":"51.91.90.74/2c8a5529-b8a7-4841-be3a-85d867b8b462/","instance_id":"2c8a5529-b8a7-4841-be3a-85d867b8b462","region":"","timeouts":null,"wait_until_associated":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["openstack_compute_instance_v2.demo-flask","openstack_compute_instance_v2.nginx-frontend","openstack_networking_floatingip_v2.frontend_fip","openstack_networking_network_v2.private","openstack_networking_secgroup_v2.allow_ssh_and_ping","openstack_networking_secgroup_v2.allow_web"]}]},{"mode":"managed","type":"openstack_compute_instance_v2","name":"demo-flask","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"access_ip_v4":"192.168.1.246","access_ip_v6":"","admin_pass":null,"all_metadata":{},"all_tags":[],"availability_zone":"nova","availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"f847fe12-45f5-46ed-bbb6-0610e595298b","flavor_name":"small","floating_ip":null,"force_delete":false,"id":"fca808b2-3957-4247-8b99-d76f888552a7","image_id":"c8f79c22-0e21-42ce-9797-ceb683b335a2","image_name":"Debian 13","key_pair":"isen","metadata":null,"name":"demo-flask","network":[{"access_network":false,"fixed_ip_v4":"192.168.1.246","fixed_ip_v6":"","floating_ip":"","mac":"fa:16:3e:8e:06:c5","name":"private","port":"","uuid":"8b880d66-6d58-45cf-bb16-23064738dea2"}],"network_mode":null,"personality":[],"power_state":"active","region":"","scheduler_hints":[],"security_groups":["be9f38da-0880-49e9-a1f6-2ff71b659a34"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":"25fd7277a5bc61bd8cad2afd025d2e1d356631db","vendor_options":[],"volume":[]},"sensitive_attributes":[[{"type":"get_attr","value":"admin_pass"}]],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19","dependencies":["openstack_networking_network_v2.private","openstack_networking_secgroup_v2.allow_ssh_and_ping"]}]},{"mode":"managed","type":"openstack_compute_instance_v2","name":"nginx-frontend","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"access_ip_v4":"192.168.1.50","access_ip_v6":"","admin_pass":null,"all_metadata":{},"all_tags":[],"availability_zone":"nova","availability_zone_hints":null,"block_device":[],"config_drive":null,"flavor_id":"f847fe12-45f5-46ed-bbb6-0610e595298b","flavor_name":"small","floating_ip":null,"force_delete":false,"id":"2c8a5529-b8a7-4841-be3a-85d867b8b462","image_id":"c8f79c22-0e21-42ce-9797-ceb683b335a2","image_name":"Debian 13","key_pair":"isen","metadata":null,"name":"nginx-frontend","network":[{"access_network":false,"fixed_ip_v4":"192.168.1.50","fixed_ip_v6":"","floating_ip":"","mac":"fa:16:3e:da:1e:86","name":"private","port":"","uuid":"8b880d66-6d58-45cf-bb16-23064738dea2"}],"network_mode":null,"personality":[],"power_state":"active","region":"","scheduler_hints":[],"security_groups":["6b27a476-e067-4feb-9eb3-5a3bd96d4c6b"],"stop_before_destroy":false,"tags":null,"timeouts":null,"user_data":"4bc85ee54984cfce25c628675062216b201ceb37","vendor_options":[],"volume":[]},"sensitive_attributes":[[{"type":"get_attr","value":"admin_pass"}]],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19","dependencies":["openstack_compute_instance_v2.demo-flask","openstack_networking_network_v2.private","openstack_networking_secgroup_v2.allow_ssh_and_ping","openstack_networking_secgroup_v2.allow_web"]}]},{"mode":"managed","type":"openstack_networking_floatingip_v2","name":"frontend_fip","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"address":"51.91.90.74","all_tags":[],"description":"","dns_domain":"","dns_name":"","fixed_ip":"","id":"6e28cd93-5630-4ea2-ae8d-2150360e13f9","pool":"public","port_id":"","region":"","subnet_id":null,"subnet_ids":null,"tags":null,"tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null,"value_specs":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfX0="}]},{"mode":"managed","type":"openstack_networking_network_v2","name":"private","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"admin_state_up":true,"all_tags":[],"availability_zone_hints":[],"description":"","dns_domain":"","external":false,"id":"8b880d66-6d58-45cf-bb16-23064738dea2","mtu":1450,"name":"private","port_security_enabled":true,"qos_policy_id":"","region":"","segments":[],"shared":false,"tags":null,"tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null,"transparent_vlan":false,"value_specs":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfX0="}]},{"mode":"managed","type":"openstack_networking_router_interface_v2","name":"router_interface","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"id":"31d361b7-fb1c-436e-b3fd-d58cb3a3dc47","port_id":"31d361b7-fb1c-436e-b3fd-d58cb3a3dc47","region":"","router_id":"2657a668-89fb-4cf9-9e29-ff05ba6c23b4","subnet_id":"2bdf4ddb-d8fc-456e-97e3-f539f7b3181a","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfX0=","dependencies":["data.openstack_networking_network_v2.public","openstack_networking_network_v2.private","openstack_networking_router_v2.router","openstack_networking_subnet_v2.private_subnet"]}]},{"mode":"managed","type":"openstack_networking_router_v2","name":"router","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"admin_state_up":true,"all_tags":[],"availability_zone_hints":[],"description":"","distributed":false,"enable_snat":true,"external_fixed_ip":[{"ip_address":"51.91.90.78","subnet_id":"d078cb7a-c710-494b-a8df-aec2af717701"}],"external_gateway":"09d8416d-7442-4f96-8f87-4d47314feaf6","external_network_id":"09d8416d-7442-4f96-8f87-4d47314feaf6","external_subnet_ids":null,"id":"2657a668-89fb-4cf9-9e29-ff05ba6c23b4","name":"router","region":"","tags":null,"tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null,"value_specs":null,"vendor_options":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfX0=","dependencies":["data.openstack_networking_network_v2.public"]}]},{"mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"allow_flask_8080","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"description":"","direction":"ingress","ethertype":"IPv4","id":"db652e93-6d0b-4d75-9710-0473edfbf39b","port_range_max":8080,"port_range_min":8080,"protocol":"tcp","region":"","remote_group_id":"","remote_ip_prefix":"0.0.0.0/0","security_group_id":"be9f38da-0880-49e9-a1f6-2ff71b659a34","tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["openstack_networking_secgroup_v2.allow_ssh_and_ping"]}]},{"mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"allow_http","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"description":"","direction":"ingress","ethertype":"IPv4","id":"6055826c-1606-4d66-9ae6-8decf984c40d","port_range_max":80,"port_range_min":80,"protocol":"tcp","region":"","remote_group_id":"","remote_ip_prefix":"0.0.0.0/0","security_group_id":"6b27a476-e067-4feb-9eb3-5a3bd96d4c6b","tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["openstack_networking_secgroup_v2.allow_web"]}]},{"mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"allow_https","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"description":"","direction":"ingress","ethertype":"IPv4","id":"43d15616-2647-4c34-8782-d5c45f634554","port_range_max":443,"port_range_min":443,"protocol":"tcp","region":"","remote_group_id":"","remote_ip_prefix":"0.0.0.0/0","security_group_id":"6b27a476-e067-4feb-9eb3-5a3bd96d4c6b","tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["openstack_networking_secgroup_v2.allow_web"]}]},{"mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"allow_ping","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"description":"","direction":"ingress","ethertype":"IPv4","id":"d2f795b1-4a1b-4241-b5e3-16b70fdd4b06","port_range_max":0,"port_range_min":0,"protocol":"icmp","region":"","remote_group_id":"","remote_ip_prefix":"0.0.0.0/0","security_group_id":"be9f38da-0880-49e9-a1f6-2ff71b659a34","tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["openstack_networking_secgroup_v2.allow_ssh_and_ping"]}]},{"mode":"managed","type":"openstack_networking_secgroup_rule_v2","name":"allow_ssh","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"description":"","direction":"ingress","ethertype":"IPv4","id":"e89d89b9-207e-421f-a818-a1cca4b50a90","port_range_max":22,"port_range_min":22,"protocol":"tcp","region":"","remote_group_id":"","remote_ip_prefix":"0.0.0.0/0","security_group_id":"be9f38da-0880-49e9-a1f6-2ff71b659a34","tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["openstack_networking_secgroup_v2.allow_ssh_and_ping"]}]},{"mode":"managed","type":"openstack_networking_secgroup_v2","name":"allow_ssh_and_ping","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"all_tags":[],"delete_default_rules":null,"description":"Security group to allow SSH and ping","id":"be9f38da-0880-49e9-a1f6-2ff71b659a34","name":"allow_ssh_and_ping","region":"","tags":null,"tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ=="}]},{"mode":"managed","type":"openstack_networking_secgroup_v2","name":"allow_web","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"all_tags":[],"delete_default_rules":null,"description":"Security group to allow HTTP and HTTPS","id":"6b27a476-e067-4feb-9eb3-5a3bd96d4c6b","name":"allow_web","region":"","tags":null,"tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjo2MDAwMDAwMDAwMDB9fQ=="}]},{"mode":"managed","type":"openstack_networking_subnet_v2","name":"private_subnet","provider":"provider[\"registry.opentofu.org/terraform-provider-openstack/openstack\"]","instances":[{"schema_version":0,"attributes":{"all_tags":[],"allocation_pool":[{"end":"192.168.1.254","start":"192.168.1.2"}],"allocation_pools":[{"end":"192.168.1.254","start":"192.168.1.2"}],"cidr":"192.168.1.0/24","description":"","dns_nameservers":null,"enable_dhcp":true,"gateway_ip":"192.168.1.1","host_routes":[],"id":"2bdf4ddb-d8fc-456e-97e3-f539f7b3181a","ip_version":4,"ipv6_address_mode":"","ipv6_ra_mode":"","name":"private_subnet","network_id":"8b880d66-6d58-45cf-bb16-23064738dea2","no_gateway":false,"prefix_length":null,"region":"","subnetpool_id":"","tags":null,"tenant_id":"bc0daf877c1b4147ac5fcaa7419b0a5f","timeouts":null,"value_specs":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfX0=","dependencies":["openstack_networking_network_v2.private"]}]}],"check_results":null}
